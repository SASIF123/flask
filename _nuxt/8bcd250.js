(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{291:function(e,t,n){"use strict";n.r(t);var r=n(10),o=n(5),l=n(0),c=(n(43),n(26),n(17),n(197),n(762)),h=n(2),d=n(9),f=n.n(d),m=n(114),x=n(763),v=n(295),E=n(742),k=n(403),content=n(12),T=n(743),_=n(3),I=n(136),P=n(758),y=n(756),O=n(21),N=n(288),S=n(50),C=n(42),w=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},$=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).scrollHeight=0,t.tweenObj={current:0},t.CHANGE_TIMEOUT_DURATION=500,t.brightness={value:1},t.currentHighlight=null,t.handleResize=function(){t.resize(),t.progressTracker.resize({length:t.scrollHeight,snap:t.scrollHeight/12})},t.handlePositionerClick=function(){var e;t.$gtm.push({event:"findPrincipleFromMenu",event_name:"findPrincipleFromMenu",category:"experience",action:"find_principles_from_menu",label:t.principles[t.activePrincipleIndex].id}),t.$router.push({name:t.RouteNames.PRINCIPLE,params:(e={},e[t.Params.SLUG]=t.principles[t.activePrincipleIndex].id,e)})},t}Object(l.a)(t,e);var n=t.prototype;return n.created=function(){var e=this;this.hijackTransitionIn(),this.isSkyFirstVisitComplete||this.$watch((function(){return e.isSkyFirstVisitCompleteWithTransition}),(function(){return e.handleSkyIntroComplete()})),this.$accessor.app[_.SET_IS_MENU_OPEN](!0),this.isNotDoneHintActive&&this.$accessor.app[_.SET_IS_NOT_DONE_HINT_ACTIVE](!1)},n.handleSkyIntroComplete=function(){var e=this;this.$watch((function(){return e.activePrincipleIndex}),(function(t,n){return e.handleActiveIndexChange(t,n)})),this.$sound.play(S.a.QUICKNAV_AMB_LOOP,C.a.AMBIENT,.6,2,!0),this.transitionIn(),this.handleActiveIndexChange(this.activePrincipleIndex,this.activePrincipleIndex,!0)},n.handleAllComponentsReady=function(){this.transitionController=new k.default(this),this.setupEventListeners(),this.resize(),this.setupScrollTimeline(),this.setupProgressTracker(),this.isSkyFirstVisitComplete&&this.handleSkyIntroComplete(),this.isReady()},n.beforeDestroy=function(){this.$sound.stop(S.a.QUICKNAV_AMB_LOOP,C.a.AMBIENT,2),this.removeEventListeners(),this.$webgl.moveCameraToPath(this.scrollProgress,1.5)},n.setupEventListeners=function(){P.a.addEventListener(y.a.types.RESIZE,this.handleResize),m.InertiaPlugin.track(this.tweenObj,"current")},n.updateVisibleConstellation=function(e,t){var n=this.principles[e].id,r=[S.a.MOVEMENT_WHOOSH_1,S.a.MOVEMENT_WHOOSH_2,S.a.MOVEMENT_WHOOSH_3,S.a.MOVEMENT_WHOOSH_4];this.$sound.play(r[Math.floor(Math.random()*r.length)],C.a.UI),this.$webgl.moveCameraToPathObject(n,this.$refs.constellation,t,O.a.BACKGROUND)},n.handleActiveIndexChange=function(e,t,n){var r=this;void 0===n&&(n=!1),this.$sound.play(S.a.UI_GENERAL_HOVER,C.a.UI);var o=Math.abs(e-t);this.changeTimeout&&clearTimeout(this.changeTimeout),this.changeTimeout=setTimeout((function(){r.updateVisibleConstellation(r.activePrincipleIndex,1+.5*o),r.currentHighlight=r.principles[r.activePrincipleIndex].content.highlight}),n?0:this.CHANGE_TIMEOUT_DURATION)},n.removeEventListeners=function(){P.a.removeEventListener(y.a.types.RESIZE,this.handleResize),m.InertiaPlugin.untrack(this.tweenObj,"current")},n.resize=function(){var e=this.$refs.constellationWrapper,t=[0,0,e.offsetWidth,e.offsetHeight],n=Object(N.a)([0,0,1,1],t,"contain");this.$refs.constellation.style.width=n[2]+"px",this.$refs.constellation.style.height=n[3]+"px",this.scrollHeight=this.$refs.list.offsetHeight},n.setupScrollTimeline=function(){this.scrollTimeline=h.default.timeline({paused:!0}),this.scrollTimeline.fromTo(this.$refs.list,{y:0},{y:-this.scrollHeight,duration:1,ease:"linear"})},n.setupProgressTracker=function(){this.progressTracker=new v.a({length:this.scrollHeight,snap:this.scrollHeight/12}),this.progressTracker.set(1/12*this.activePrincipleIndex*this.scrollHeight),this.progressTracker.addEventListener(I.a.types.UPDATE,this.handleProgressUpdate)},n.beforeRouteEnter=function(e,t,n){n((function(e){t.name===e.RouteNames.PRINCIPLE&&e.$accessor.content[content.SET_ACTIVE_PRINCIPLE_INDEX](e.principles.findIndex((function(n){return n.id===t.params[e.Params.SLUG]})))}))},n.beforeRouteLeave=function(e,t,n){this.$accessor.app[_.SET_IS_MENU_OPEN](!1),n()},n.handleProgressUpdate=function(e){var progress=e.data.data;this.$accessor.content[content.SET_ACTIVE_PRINCIPLE_INDEX](Math.round(12*progress)),this.scrollTimeline&&this.scrollTimeline.progress(progress)},n.handleMenuItemFocus=function(e){this.progressTracker.scrollTo((this.progressTracker.scrollLength/this.$refs.items.length-1)*e)},n.asyncData=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r,o,l,c,h,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$prismic,r=t.store,e.next=3,Object(T.b)(n);case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0={};case 6:return o=e.t0,e.next=9,Object(T.a)(n);case 9:if(e.t1=e.sent,e.t1){e.next=12;break}e.t1={};case 12:return l=e.t1,e.next=15,Object(T.c)(n);case 15:if(e.t2=e.sent,e.t2){e.next=18;break}e.t2={};case 18:return c=e.t2,e.next=21,Object(T.f)(n);case 21:if(e.t3=e.sent,e.t3){e.next=24;break}e.t3={};case 24:return h=e.t3,e.next=27,Object(T.e)(n);case 27:if(e.t4=e.sent,e.t4){e.next=30;break}e.t4={};case 30:return d=e.t4,e.next=33,r.dispatch("content/"+content.SETUP_PRINCIPLES,h);case 33:return e.next=35,r.dispatch("content/"+content.SETUP_GLOBALS,c);case 35:return e.next=37,r.dispatch("content/"+content.SETUP_SKY_PAGE_CONTENT,Object.assign({},o,l));case 37:return e.next=39,r.dispatch("content/"+content.SETUP_NEBULAS,d);case 39:return e.abrupt("return",{content:{page:o,globals:c}});case 40:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Object(o.a)(t,[{key:"principles",get:function(){return this.$accessor.content[content.GET_PRINCIPLES]}},{key:"activePrincipleIndex",get:function(){return this.$accessor.content[content.GET_ACTIVE_PRINCIPLE_INDEX]}},{key:"isSkyFirstVisitComplete",get:function(){return this.$accessor.app[_.GET_IS_SKY_FIRST_VISIT_COMPLETE]}},{key:"isNotDoneHintActive",get:function(){return this.$accessor.app[_.GET_IS_NOT_DONE_HINT_ACTIVE]}},{key:"isSkyFirstVisitCompleteWithTransition",get:function(){return this.isSkyFirstVisitComplete&&this.transitionController}},{key:"scrollProgress",get:function(){return this.$accessor.app[_.GET_SCROLL_PROGRESS]}}]),t}(E.a),H=$=w([f()({components:{MenuLink:x.a,MenuHighlight:c.a}})],$),R=n(776),A=n(11);var component=Object(A.a)(H,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["abs-fill",e.$style.menuPage]},[n("div",{class:["abs-fill",e.$style.constellationPositioner],on:{click:e.handlePositionerClick}},[n("div",{ref:"constellationWrapper",class:e.$style.constellationWrapper},[n("div",{ref:"constellation",class:["abs-center",e.$style.constellation]})])]),e._v(" "),n("div",{ref:"selector",class:[e.$style.selector]}),e._v(" "),n("div",{ref:"listContainer",class:e.$style.container},[n("ul",{ref:"list",class:e.$style.list},e._l(e.principles,(function(t,r){var o=t.id,l=t.slug,title=t.title;return n("li",{key:"principle-"+r,ref:"items",refInFor:!0,class:e.$style.item},[n("MenuLink",{attrs:{"principle-id":o,slug:l,title:title}})],1)})),0)]),e._v(" "),n("MenuHighlight",{ref:"menuHighlight",class:e.$style.highlight,attrs:{highlight:e.currentHighlight}})],1)}),[],!1,(function(e){this.$style=R.default.locals||R.default}),null,null);t.default=component.exports},748:function(e,t,n){var content=n(777);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(28).default)("2e57ec84",content,!0,{sourceMap:!1})},754:function(e,t,n){e.exports=n.p+"img/fadingMobile1.2b4bbb1.png"},755:function(e,t,n){e.exports=n.p+"img/fadingDesktop1.db952e5.png"},776:function(e,t,n){"use strict";var r=n(748),o=n.n(r);n.d(t,"default",(function(){return o.a}))},777:function(e,t,n){var r=n(27),o=n(401),l=n(754),c=n(755),h=r(!1),d=o(l),f=o(c);h.push([e.i,".selector-KUtPTER{top:50%;left:clamp(30px,calc(-25px + 8.59375vw),140px);display:inline-block;width:clamp(30px,calc(15px + 2.34375vw),60px);height:2px;background-color:#ae9a6e}.selector-KUtPTER,.title-kycOfHp{position:absolute}.title-kycOfHp{top:180px;left:30px}.container-kvu\\+psz{height:100%;overflow:hidden;-webkit-mask-image:url("+d+");mask-image:url("+d+");-webkit-mask-size:90% 70%;mask-size:90% 70%;-webkit-mask-position:0 50%;mask-position:0 50%;-webkit-mask-repeat:repeat-x;mask-repeat:repeat-x;pointer-events:none}.list-GPz2quy{position:absolute;top:50%;width:100%;margin-left:clamp(82px,calc(13px + 10.78125vw),220px);display:flex;flex-direction:column;align-items:flex-start}.item-rhilXNA{padding-top:22px;padding-bottom:22px;pointer-events:auto}.item-rhilXNA:first-child{margin-top:-33px}.item-rhilXNA:last-child{margin-bottom:-33px}.constellationPositioner-gMyd1W0{top:var(--button-size);height:calc(100% - var(--button-size)*2);padding:clamp(30px,calc(25px + .78125vw),40px) clamp(30px,calc(25px + .78125vw),40px) clamp(30px,calc(25px + .78125vw),40px) clamp(100px,calc(-150px + 39.0625vw),600px);display:flex;flex-direction:column}.constellationWrapper-vj0XbGe{flex-grow:1;position:relative}.highlight-N19ddKp{display:none}@media (min-width:768px){.title-kycOfHp{top:95px;right:146px;left:unset}.container-kvu\\+psz{-webkit-mask-image:url("+f+");mask-image:url("+f+");-webkit-mask-size:90% 80%;mask-size:90% 80%;-webkit-mask-position:0 50%;mask-position:0 50%;-webkit-mask-repeat:repeat-x;mask-repeat:repeat-x}.item-rhilXNA{padding-top:36px;padding-bottom:36px}.item-rhilXNA:first-child{margin-top:-58px}.item-rhilXNA:last-child{margin-bottom:-58px}.highlight-N19ddKp{display:grid;position:absolute;bottom:95px;right:146px}}",""]),h.locals={selector:"selector-KUtPTER",title:"title-kycOfHp",container:"container-kvu+psz",list:"list-GPz2quy",item:"item-rhilXNA",constellationPositioner:"constellationPositioner-gMyd1W0",constellationWrapper:"constellationWrapper-vj0XbGe",highlight:"highlight-N19ddKp"},e.exports=h}}]);